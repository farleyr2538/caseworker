{{ define "title" }}View Constituent{{ end }}

{{ define "content" }}

<div class="container">
    {{ $data := . }}
    <div class="row">
        <div class="col-8">
            {{ range .Constituents }}
            <h1>{{ .First_name }} {{ .Last_name }}</h1>
            <p>{{ .Address1 }}, {{ .City }}, {{ .Postcode }}</p>
            <p>Phone: {{ .Phone }} Email: {{ .Email }}</p>
            {{ end }}
        </div>
    </div>
    <div class="row">
        <div class="col-8 mt-3 mb-5">
            <h3>Cases</h3>
        </div>
        <div class="col-4 align-self-center">
            <form action="/create-case">
                {{ range .Constituents }}
                <input id="constituent_id" name="constituent_id" value="{{ .Id }}" hidden>
                {{ end }}
                <button type="submit" class="btn btn-primary">Create case</button>
            </form>
        </div>
        <div class="col">
            <p><b>Id</b></p>
        </div>
        <div class="col">
            <p><b>Category</b></p>
        </div>
        <div class="col">
            <p><b>Summary</b></p>
        </div>
        <div class="col"></div>
    </div>
    {{ range .Cases }}
    <div class="row">
        <div class="col">
            <p>{{ .Id }}</p>
        </div>
        <div class="col">
            <p>{{ .Category }}</p>
        </div>
        <div class="col">
            <p>{{ .Summary }}</p>
        </div>
        <div class="col">
            <form action="/case">
                <input id="case_id" name="case_id" value="{{ .Id }}" hidden> 
                <button class="btn btn-primary" type="submit">Open case</button>
            </form>
        </div>
    </div>
    {{ end }}
</div>

{{ end }}

{{ define "script" }}{{ end }}